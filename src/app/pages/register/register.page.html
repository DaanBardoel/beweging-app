<ion-header>
  <ion-toolbar>
    <ion-title>register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <label>Email</label>
    <ion-input type="email" formControlName="email" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.email.errors }"></ion-input>
    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
      <div *ngIf="f.email.errors.required">Email is required</div>
    </div>
    <ion-label>Username</ion-label>
    <ion-input type="text" formControlName="username" class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.username.errors }"></ion-input>
    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
      <div *ngIf="f.username.errors.required">Username is required</div>
    </div>
    <ion-label>Password</ion-label>
    <ion-input type="password" formControlName="password" class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.password.errors }"></ion-input>
    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
      <div *ngIf="f.password.errors.required">Password is required</div>
      <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
    </div>
    <ion-label>Gender</ion-label>
    <ion-select type="text" value="null" formControlName="gender" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.gender.errors }">
      <ion-select-option value="null">Unspecified</ion-select-option>
      <ion-select-option value="man">Men</ion-select-option>
      <ion-select-option value="woman">Women</ion-select-option>
    </ion-select>
    <ion-label>Age</ion-label>
    <ion-input type="number" formControlName="age" class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.age.errors }"></ion-input>
    <div *ngIf="submitted && f.age.errors" class="invalid-feedback">
      <div *ngIf="f.age.errors.min">minimum age is 1</div>
      <div *ngIf="f.age.errors.max">You cannot be older then 124</div>
    </div>
    <ion-label>Town</ion-label>
    <ion-input type="text" formControlName="town" class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.town.errors }"></ion-input>
    <div *ngIf="submitted && f.town.errors" class="invalid-feedback">
      <div *ngIf="f.town.errors.required">Town is required</div>
    </div>
    <ion-label>District</ion-label>
    <ion-input type="text" formControlName="district" class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.district.errors }"></ion-input>
    <div class="register-form">
      <button [disabled]="loading" class="btn btn-primary">Register</button>
      <a [routerLink]="['/login']" class="btn btn-link">Cancel</a>
    </div>
  </form>
</ion-content>
