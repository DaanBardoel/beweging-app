<ion-header>
  <ion-toolbar>
    <ion-title>register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <label>Email</label>
    <input type="email" formControlName="email" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.email.errors }"/>
    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
      <div *ngIf="f.email.errors.required">Email is required</div>
    </div>
    <label>Username</label>
    <input type="text" formControlName="username" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.username.errors }"/>
    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
      <div *ngIf="f.username.errors.required">Username is required</div>
    </div>
    <label>Password</label>
    <input type="password" formControlName="password" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.password.errors }"/>
    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
      <div *ngIf="f.password.errors.required">Password is required</div>
      <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
    </div>
    <label>Gender</label>
    <select type="text" formControlName="gender" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.gender.errors }">
      <option value="null"></option>
      <option value="man">Men</option>
      <option value="woman">Women</option>
    </select>
    <label>Age</label>
    <input type="number" formControlName="age" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.age.errors }"/>
    <div *ngIf="submitted && f.age.errors" class="invalid-feedback">
      <div *ngIf="f.age.errors.min">minimum age is 1</div>
      <div *ngIf="f.age.errors.max">You cannot be older then 124</div>
    </div>
    <label>Town</label>
    <input type="text" formControlName="town" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.town.errors }"/>
    <div *ngIf="submitted && f.town.errors" class="invalid-feedback">
      <div *ngIf="f.town.errors.required">Town is required</div>
    </div>
    <label>District</label>
    <input type="text" formControlName="district" class="form-control"
           [ngClass]="{ 'is-invalid': submitted && f.district.errors }"/>
    <div class="register-form">
      <button [disabled]="loading" class="btn btn-primary">Register</button>
      <a [routerLink]="['/login']" class="btn btn-link">Cancel</a>
    </div>
  </form>
</ion-content>
